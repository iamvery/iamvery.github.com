<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta content="jay hayes, jay, hayes, florence al, florence, al, iamvery, webdesign, web design, html, xhtml, css, strict html, strict xhtml, php, ror, ruby, ruby on rails, programming, programmer, development, web developer, web development, github" />
    <meta content="The work, thoughts, and ideas of Jay Hayes, a web developer." name="description" />
    <meta content="Jay Hayes" name="author" />
    <meta name="viewport" content="initial-scale=1">

    <title>Convenient ActiveRecord ordering / iamvery.com</title>
    <link href='/favicon.ico' rel='shortcut icon' />

    <meta property="og:site_name" content="iamvery.com" />
    <meta property="og:title" content="Convenient ActiveRecord ordering" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://iamvery.com/2012/12/11/convenient-activerecord-order.html" />
    <meta property="og:image" content="http://iamvery.com/images/jay.jpg" />
    <meta property="og:description" content="The work, thoughts, and ideas of Jay Hayes, a web developer." />

    <link href='/stylesheets/toast.css' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/iamvery.css' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/font-awesome.min.css' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/pygments.css' rel='stylesheet' type='text/css' />
    <link href='//fonts.googleapis.com/css?family=Crete+Round|Merriweather' rel='stylesheet' type='text/css'>
    <link href="http://iamvery.com/2012/12/11/convenient-activerecord-order.html" rel="canonical">
  </head>
  <body>
    <div class="container">
      <div class="grid">
        <header class="unit span-grid">
          <h1 class="logo"><a href="/" title="Iamvery home.">Iamvery</a></h1>
          <h3>The musings of a nerd</h3>
        </header>

        <hr class="unit span-grid" />

        <div class="unit three-of-four">
          <header>
  <h1>Convenient ActiveRecord ordering</h1>
</header>

<p>
  &mdash;
  Dec 11, 2012
</p>

<blockquote>
  <p><strong>TL;DR</strong>: My gem <a href="https://github.com/iamvery/order">https://github.com/iamvery/order</a> may make your life better!</p>
</blockquote>

<p>Ordering records with ActiveRecord has always felt a bit weird to me. Its nearly
the only simple circumstance I find myself in where I must write a short SQL
string. Today I released a simple little gem called <a href="https://github.com/iamvery/order">order</a>
that attempts to address that issue by abstracting the definition of orderings into
a simple DSL.</p>

<p>Check out this example model:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Person</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">orderable</span> <span class="ss">:first_name</span><span class="p">,</span> <span class="ss">:last_name</span>
<span class="k">end</span></code></pre></figure>

<p>You can get ordered records like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Person.order_by_first_name
=&gt; SELECT "people".* FROM "people" ORDER BY "first_name" ASC
</code></pre></div></div>

<p>The library will also let you get results in descending order, specify orderings
with aliased names on multiple columns, and define custom ordering stratgies
using a block. Check out the README!</p>

<p>The last cool thing about this library is the <code class="language-plaintext highlighter-rouge">order_by</code> method. This lets you 
specify multiple ordering using a specially formatted string. This is 
particulary useful with controller parameters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Person.order_by('age, blood_type.desc, name')
</code></pre></div></div>

<p>Imagine that ordering being appended to a URL:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/people?order=age,blood_type.desc,name
</code></pre></div></div>

<p>+1 for API ordering support!</p>

<p>Check it out at <a href="https://github.com/iamvery/order">https://github.com/iamvery/order</a> and let me know what you think!</p>

<p><em>By the way… how was “order” not already a gem?!</em></p>



<footer>
  <p>
    <a href="/2012/12/03/use-the-rails-truncate-helper.html">&laquo; Previous</a>
    |
    <a href="/2013/01/02/sustain-honest-local-business.html">Next &raquo;</a>
  </p>
</footer>

        </div>

        <div class="unit one-of-four">
          <nav>
            <ul class="nav">
              <li><a class="button red" href="/2024/09/04/best-hayes-ahead.html">latest blog</a></li>
              <li><a class="button red" href="/archive.html">blog list</a></li>
              <li><a class="button red" href="/about.html">about</a></li>
              <li><a class="button red" href="https://besthayesahead.com">Best Hayes Ahead</a></li>
            </ul>
          </nav>
          <footer><p><small>© Jay Hayes</small></p></footer>
        </div>

        <hr class="unit span-grid" />

        <footer class="unit span-grid">
          <a href="mailto:hello@iamvery.com" title="I've got email!">hello@iamvery.com</a>
&nbsp;&bull;&nbsp;
<a href="http://github.com/iamvery" title="I've got a Github account!">http://github.com/iamvery</a>
&nbsp;&bull;&nbsp;
<a href="http://feeds.feedburner.com/iamvery" title="RSS">RSS</a>

        </div>
      </div>
    </div>

    <script src='/javascripts/analytics.js' type='text/javascript'></script>
  </body>
</html>
